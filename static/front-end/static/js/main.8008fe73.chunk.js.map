{"version":3,"sources":["App.js","utils/ButtonWithConfirm.js","api/api.js","pages/v2ray/nodes.js","pages/v2ray/subscriptions.js","pages/v2ray/config.js","pages/pac/websites.js","reportWebVitals.js","index.js"],"names":["Header","Layout","Content","Footer","Sider","SubMenu","Menu","SiderBar","props","onCollapse","collapsed","console","log","setState","state","this","selectedKey","selectKey","openKey","style","minHeight","collapsible","className","onClick","goHome","class","theme","defaultSelectedKeys","Array","defaultOpenKeys","mode","Item","icon","PieChartOutlined","DesktopOutlined","to","GlobalOutlined","title","padding","margin","children","textAlign","React","Component","confirm","Modal","ButtonWithConfirm","confirmTitle","content","confirmContent","onOk","fnOnOk","onCancel","disabled","btnDisabled","showConfirm","btnName","refreshPacWebsitesListApi","prefix","addPacWebsiteApi","delPacWebsiteApi","refreshV2rayNodeListApi","switchV2rayNodeApi","pingAllV2rayNodeApi","refreshV2raySubscriptionsListApi","addV2raySubscriptionsApi","delV2raySubscriptionsApi","refreshV2raySubscriptionsApi","refreshV2rayConfigApi","updateV2rayConfigApi","validateV2rayConfigApi","V2rayNodes","refreshV2rayNodeList","self","axios","get","api","then","response","isLoaded","data","catch","error","openNotificationWithIcon","type","message","notification","description","pingAllV2rayNode","nodePingDoing","post","Message","items","nodeName","nodeId","FormData","append","columns","dataIndex","key","sorter","a","b","primary_key","ps","length","ping_rtt","host","port","render","text","record","subscription_id","switchV2rayNode","status","extra","CloudSyncOutlined","loading","dataSource","V2raySubscriptions","refreshV2raySubscriptionsList","showAddModal","modalVisible","hideAddModal","addV2raySubscriptions","name","addr","delV2raySubscriptions","id","refreshV2raySubscriptions","subscription_name","form","SyncOutlined","PlusOutlined","width","cursor","visible","footer","htmlType","modalRender","modal","layout","initialValues","modifier","onFinish","values","label","rules","required","V2rayConfig","refreshV2rayConfig","config","configValidate","updateV2rayConfig","JSON","stringify","validateV2rayConfig","BugOutlined","placement","SaveOutlined","float","placeholder","locale","colors","string","onChange","plain_text","height","bordered","active","PacWebSites","refreshPacWebsitesList","addPacWebsite","delPacWebsite","url","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","path","document","getElementById"],"mappings":"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","file":"static/js/main.8008fe73.chunk.js","sourcesContent":["import React from \"react\";\nimport \"antd/dist/antd.css\";\nimport \"./App.css\";\nimport { Layout, Menu } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport {\n  DesktopOutlined,\n  PieChartOutlined,\n  GlobalOutlined,\n} from \"@ant-design/icons\";\n\nconst { Header, Content, Footer, Sider } = Layout;\nconst { SubMenu } = Menu;\n\nclass SiderBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      collapsed: false,\n    };\n  }\n\n  onCollapse = (collapsed) => {\n    console.log(collapsed);\n    this.setState({ collapsed });\n  };\n\n  render() {\n    const { collapsed } = this.state;\n    const selectedKey = this.props.selectKey || \"\";\n    const openKey = this.props.openKey || \"\";\n    return (\n      <Layout style={{ minHeight: \"100vh\" }}>\n        <Sider collapsible collapsed={collapsed} onCollapse={this.onCollapse}>\n          <div className=\"logo\" onClick={this.goHome}>\n            <h3 class=\"h3\">V2ray管理平台</h3>\n          </div>\n          <Menu\n            theme=\"dark\"\n            defaultSelectedKeys={new Array(selectedKey)}\n            defaultOpenKeys={new Array(openKey)}\n            mode=\"inline\"\n          >\n            <Menu.Item key=\"1\" icon={<PieChartOutlined />}>\n              系统状态\n            </Menu.Item>\n            <Menu.Item key=\"pac\" icon={<DesktopOutlined />}>\n              <Link to=\"/pac/config\">PAC管理</Link>\n            </Menu.Item>\n            <SubMenu key=\"v2ray\" icon={<GlobalOutlined />} title=\"V2ray管理\">\n              <Menu.Item key=\"v2ray_subs\">\n                <Link to=\"/v2ray/subscriptions\">订阅管理</Link>\n              </Menu.Item>\n              <Menu.Item key=\"v2ray_servers\">\n                <Link to=\"/v2ray/servers\">节点列表</Link>\n              </Menu.Item>\n              <Menu.Item key=\"v2ray_config\">\n                <Link to=\"/v2ray/config\">配置模板</Link>\n              </Menu.Item>\n            </SubMenu>\n          </Menu>\n        </Sider>\n        <Layout className=\"site-layout\">\n          <Header className=\"site-layout-background\" style={{ padding: 0 }} />\n          <Content style={{ margin: \"0 16px\" }}>\n            <div\n              className=\"site-layout-background\"\n              style={{ padding: 24, minHeight: 360 }}\n            >\n              {this.props.children}\n            </div>\n          </Content>\n          <Footer style={{ textAlign: \"center\" }}>\n            Ant Design ©2018 Created by Ant UED\n          </Footer>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nexport default SiderBar;\n","import React from \"react\";\nimport { Modal, Button } from \"antd\";\n\nconst { confirm } = Modal;\n\nclass ButtonWithConfirm extends React.Component {\n  showConfirm(props) {\n    confirm({\n      title: props.confirmTitle,\n      content: props.confirmContent,\n      onOk() {\n        props.fnOnOk();\n      },\n      onCancel() {},\n    });\n  }\n\n  render() {\n    return (\n      <Button\n        disabled={this.props.btnDisabled}\n        onClick={() => this.showConfirm(this.props)}\n      >\n        {this.props.btnName}\n      </Button>\n    );\n  }\n}\n\nexport default ButtonWithConfirm;\n","/* eslint-disable import/no-anonymous-default-export */\nlet prefix = \"\";\n// eslint-disable-next-line no-undef\nif (process.env.NODE_ENV === \"development\") {\n  prefix = \"http://127.0.0.1:8888\";\n}\n\nexport default {\n  //pac pages\n  refreshPacWebsitesListApi: prefix + \"/api/pac/website/list\",\n  addPacWebsiteApi: prefix + \"/api/pac/website/add\",\n  delPacWebsiteApi: prefix + \"/api/pac/website/del\",\n\n  //v2ray pages\n  refreshV2rayNodeListApi: prefix + \"/api/v2ray/subscription/nodes/list\",\n  switchV2rayNodeApi: prefix + \"/api/v2ray/config/switch_node\",\n  pingAllV2rayNodeApi: prefix + \"/api/v2ray/subscription/nodes/ping\",\n  refreshV2raySubscriptionsListApi: prefix + \"/api/v2ray/subscription/list\",\n  addV2raySubscriptionsApi: prefix + \"/api/v2ray/subscription/add\",\n  delV2raySubscriptionsApi: prefix + \"/api/v2ray/subscription/delete\",\n  refreshV2raySubscriptionsApi: prefix + \"/api/v2ray/subscription/refresh\",\n  refreshV2rayConfigApi: prefix + \"/api/v2ray/config/get\",\n  updateV2rayConfigApi: prefix + \"/api/v2ray/config/update\",\n  validateV2rayConfigApi: prefix + \"/api/v2ray/config/validate\",\n};\n","import React from \"react\";\nimport \"antd/dist/antd.css\";\n// import \"./index.css\";\nimport ButtonWithConfirm from \"../../utils/ButtonWithConfirm\";\nimport { Table, Result, notification, Button, Space, Divider } from \"antd\";\nimport { CloudSyncOutlined } from \"@ant-design/icons\";\nimport axios from \"axios\";\nimport api from \"../../api/api.js\";\n\nclass V2rayNodes extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      nodePingDoing: false,\n      items: [],\n    };\n  }\n  refreshV2rayNodeList = () => {\n    var self = this;\n    axios\n      .get(api.refreshV2rayNodeListApi)\n      .then(function (response) {\n        self.setState({\n          isLoaded: true,\n          data: response.data,\n        });\n      })\n      .catch(function (error) {\n        console.log(error);\n        self.setState({\n          isLoaded: true,\n          error,\n        });\n      });\n  };\n  componentDidMount() {\n    this.refreshV2rayNodeList();\n  }\n\n  openNotificationWithIcon = (type, title, message) => {\n    notification[type]({\n      message: title,\n      description: message,\n    });\n  };\n\n  switchV2rayNode(nodeName, nodeId) {\n    var self = this;\n    var data = new FormData();\n    data.append(\"node_id\", nodeId);\n    axios\n      .post(api.switchV2rayNodeApi, data)\n      .then(function (response) {\n        self.openNotificationWithIcon(\n          \"success\",\n          \"切换成功\",\n          \"成功切换至节点: \" + nodeName\n        );\n      })\n      .catch(function (error) {\n        self.openNotificationWithIcon(\n          \"error\",\n          \"切换失败\",\n          \"切换至节点 \" + nodeName + \" 失败. \" + error.response.data.Message\n        );\n      });\n  }\n\n  pingAllV2rayNode = () => {\n    var self = this;\n    self.openNotificationWithIcon(\n      \"info\",\n      \"测速中\",\n      \"测速需要一定时间, 请耐心等待\"\n    );\n    self.setState({ nodePingDoing: true });\n    axios\n      .post(api.pingAllV2rayNodeApi)\n      .then(function (response) {\n        self.openNotificationWithIcon(\"success\", \"测速成功\", \"\");\n      })\n      .catch(function (error) {\n        self.openNotificationWithIcon(\n          \"error\",\n          \"测速失败\",\n          error.response.data.Message\n        );\n      })\n      .then(function () {\n        self.refreshV2rayNodeList();\n        self.setState({ nodePingDoing: false });\n      });\n  };\n\n  render() {\n    const columns = [\n      {\n        title: \"节点ID\",\n        dataIndex: \"primary_key\",\n        key: \"primary_key\",\n        sorter: (a, b) => a.primary_key - b.primary_key,\n      },\n      {\n        title: \"所属订阅\",\n        dataIndex: \"subscription_name\",\n        key: \"subscription_name\",\n      },\n      {\n        title: \"节点名\",\n        dataIndex: \"ps\",\n        key: \"ps\",\n        sorter: (a, b) => a.ps.length - b.ps.length,\n      },\n      {\n        title: \"节点延时(ms)\",\n        dataIndex: \"ping_rtt\",\n        key: \"ping_rtt\",\n        sorter: (a, b) => a.ping_rtt - b.ping_rtt,\n      },\n      {\n        title: \"节点地址\",\n        dataIndex: \"host\",\n        key: \"host\",\n        sorter: (a, b) => a.host.length - b.host.length,\n      },\n      {\n        title: \"节点端口\",\n        dataIndex: \"port\",\n        key: \"port\",\n        sorter: (a, b) => a.port - b.port,\n      },\n      {\n        title: \"Action\",\n        key: \"action\",\n        render: (text, record) => (\n          <ButtonWithConfirm\n            btnName=\"使用\"\n            confirmTitle=\"是否使用此节点?\"\n            confirmContent={record.subscription_id + \" : \" + record.ps}\n            fnOnOk={() => this.switchV2rayNode(record.ps, record.primary_key)}\n          />\n        ),\n      },\n    ];\n    const { error, isLoaded, data } = this.state;\n    if (error != null) {\n      return (\n        <Result\n          status=\"warning\"\n          title=\"There are some problems with your operation.\"\n          extra={\n            <Button type=\"primary\" key=\"console\">\n              Go Home\n            </Button>\n          }\n        />\n      );\n    } else {\n      return (\n        <>\n          <Space>\n            <Button\n              type=\"primary\"\n              icon={<CloudSyncOutlined />}\n              onClick={this.pingAllV2rayNode}\n              loading={this.state.nodePingDoing}\n            >\n              节点测速\n            </Button>\n          </Space>\n          <Divider />\n          <Table columns={columns} dataSource={data} loading={!isLoaded} />\n        </>\n      );\n    }\n  }\n}\n\nexport default V2rayNodes;\n","import React from \"react\";\nimport \"antd/dist/antd.css\";\n// import \"./index.css\";\nimport ButtonWithConfirm from \"../../utils/ButtonWithConfirm\";\nimport {\n  Table,\n  Result,\n  notification,\n  Button,\n  Space,\n  Modal,\n  Form,\n  Input,\n  Divider,\n} from \"antd\";\nimport { SyncOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport axios from \"axios\";\nimport Draggable from \"react-draggable\";\nimport api from \"../../api/api.js\";\n\nclass V2raySubscriptions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      modalVisible: false,\n      data: null,\n    };\n  }\n  refreshV2raySubscriptionsList = () => {\n    var self = this;\n    axios\n      .get(api.refreshV2raySubscriptionsListApi)\n      .then(function (response) {\n        self.setState({\n          isLoaded: true,\n          data: response.data,\n        });\n      })\n      .catch(function (error) {\n        self.setState({\n          isLoaded: true,\n          error,\n        });\n      });\n  };\n  componentDidMount() {\n    this.refreshV2raySubscriptionsList();\n  }\n\n  showAddModal = () => {\n    this.setState({\n      modalVisible: true,\n    });\n  };\n\n  hideAddModal = () => {\n    this.setState({\n      modalVisible: false,\n    });\n  };\n\n  openNotificationWithIcon = (type, title, message) => {\n    notification[type]({\n      message: title,\n      description: message,\n    });\n  };\n\n  addV2raySubscriptions = (name, addr) => {\n    var self = this;\n    var data = new FormData();\n    data.append(\"subscription_name\", name);\n    data.append(\"subscription_addr\", addr);\n    axios\n      .post(api.addV2raySubscriptionsApi, data)\n      .then(function (response) {\n        self.openNotificationWithIcon(\n          \"success\",\n          \"添加订阅成功\",\n          \"成功添加订阅: \" + name\n        );\n      })\n      .catch(function (error) {\n        self.openNotificationWithIcon(\n          \"error\",\n          \"添加订阅失败\",\n          \"添加订阅 \" + name + \" 失败. \" + error.response.data.Message\n        );\n      })\n      .then(function () {\n        self.refreshV2raySubscriptionsList();\n        self.hideAddModal();\n      });\n  };\n\n  delV2raySubscriptions = (name, id) => {\n    var self = this;\n    var data = new FormData();\n    data.append(\"subscription_id\", id);\n    axios\n      .post(api.delPacWebsiteApi, data)\n      .then(function (response) {\n        self.openNotificationWithIcon(\n          \"success\",\n          \"删除订阅成功\",\n          \"成功删除订阅: \" + name\n        );\n      })\n      .catch(function (error) {\n        self.openNotificationWithIcon(\n          \"error\",\n          \"删除订阅失败\",\n          \"删除订阅失败. \" + error.response.data.Message\n        );\n      })\n      .then(function () {\n        self.refreshV2raySubscriptionsList();\n      });\n  };\n\n  refreshV2raySubscriptions = (name, id) => {\n    var self = this;\n    var data = new FormData();\n    data.append(\"subscription_id\", id);\n    axios\n      .post(api.refreshV2raySubscriptionsApi, data)\n      .then(function (response) {\n        self.openNotificationWithIcon(\n          \"success\",\n          \"刷新订阅成功\",\n          \"成功刷新订阅: \" + name\n        );\n      })\n      .catch(function (error) {\n        self.openNotificationWithIcon(\n          \"error\",\n          \"刷新订阅失败\",\n          \"刷新订阅失败. \" + error.response.data.Message\n        );\n      })\n      .then(function () {\n        self.refreshV2raySubscriptionsList();\n      });\n  };\n\n  render() {\n    const columns = [\n      {\n        title: \"订阅ID\",\n        dataIndex: \"id\",\n        key: \"id\",\n        sorter: (a, b) => a.id - b.id,\n      },\n      {\n        title: \"订阅别名\",\n        dataIndex: \"subscription_name\",\n        key: \"subscription_name\",\n        sorter: (a, b) =>\n          a.subscription_name.length - b.subscription_name.length,\n      },\n      {\n        title: \"订阅地址\",\n        dataIndex: \"subscription_addr\",\n        key: \"subscription_addr\",\n      },\n      {\n        title: \"Action\",\n        key: \"action\",\n        render: (text, record) => (\n          <ButtonWithConfirm\n            btnName=\"删除\"\n            confirmTitle=\"是否删除此订阅?\"\n            confirmContent={record.id + \" : \" + record.subscription_name}\n            fnOnOk={() =>\n              this.delV2raySubscriptions(record.subscription_name, record.id)\n            }\n          />\n        ),\n      },\n      {\n        title: \"Action\",\n        key: \"action\",\n        render: (text, record) => (\n          <ButtonWithConfirm\n            btnName=\"刷新节点\"\n            confirmTitle=\"是否刷新此订阅节点?\"\n            confirmContent={record.id + \" : \" + record.subscription_name}\n            fnOnOk={() =>\n              this.refreshV2raySubscriptions(\n                record.subscription_name,\n                record.id\n              )\n            }\n          />\n        ),\n      },\n    ];\n    const { error, isLoaded, data, form } = this.state;\n    if (error != null) {\n      return (\n        <Result\n          status=\"warning\"\n          title=\"There are some problems with your operation.\"\n          extra={\n            <Button type=\"primary\" key=\"console\">\n              Go Home\n            </Button>\n          }\n        />\n      );\n    } else {\n      return (\n        <>\n          <Space>\n            <Button\n              type=\"primary\"\n              icon={<SyncOutlined />}\n              onClick={this.refreshV2raySubscriptionsList}\n            >\n              刷新\n            </Button>\n            <Button\n              type=\"primary\"\n              icon={<PlusOutlined />}\n              onClick={this.showAddModal}\n            >\n              添加订阅\n            </Button>\n            <Modal\n              title={\n                <div\n                  style={{\n                    width: \"100%\",\n                    cursor: \"move\",\n                  }}\n                >\n                  添加订阅\n                </div>\n              }\n              visible={this.state.modalVisible}\n              footer={[\n                <Button\n                  form=\"addV2raySubscriptionForm\"\n                  key=\"submit\"\n                  htmlType=\"submit\"\n                >\n                  Submit\n                </Button>,\n              ]}\n              onCancel={this.hideAddModal}\n              modalRender={(modal) => <Draggable>{modal}</Draggable>}\n            >\n              <Form\n                id=\"addV2raySubscriptionForm\"\n                form={form}\n                layout=\"vertical\"\n                initialValues={{ modifier: \"public\" }}\n                onFinish={(values) => {\n                  this.addV2raySubscriptions(values.name, values.addr);\n                }}\n              >\n                <Form.Item\n                  name=\"name\"\n                  label=\"订阅别名\"\n                  rules={[\n                    {\n                      required: true,\n                      message: \"请输入订阅别名!\",\n                    },\n                  ]}\n                >\n                  <Input />\n                </Form.Item>\n                <Form.Item\n                  name=\"addr\"\n                  label=\"订阅地址\"\n                  rules={[\n                    {\n                      required: true,\n                      type: \"url\",\n                      message: \"请输入正确的订阅地址!\",\n                    },\n                  ]}\n                >\n                  <Input />\n                </Form.Item>\n              </Form>\n            </Modal>\n          </Space>\n          <Divider />\n          <Table columns={columns} dataSource={data} loading={!isLoaded} />;\n        </>\n      );\n    }\n  }\n}\n\nexport default V2raySubscriptions;\n","import React from \"react\";\nimport \"antd/dist/antd.css\";\nimport {\n  Skeleton,\n  Result,\n  Button,\n  notification,\n  Space,\n  Divider,\n  Tooltip,\n  Card,\n} from \"antd\";\nimport { SyncOutlined, BugOutlined, SaveOutlined } from \"@ant-design/icons\";\nimport JSONInput from \"react-json-editor-ajrm\";\nimport locale from \"react-json-editor-ajrm/locale/en\";\nimport axios from \"axios\";\nimport api from \"../../api/api.js\";\n\nclass V2rayConfig extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      configValidate: false,\n      config: null,\n    };\n  }\n\n  refreshV2rayConfig = () => {\n    var self = this;\n    axios\n      .get(api.refreshV2rayConfigApi)\n      .then(function (response) {\n        self.setState({\n          isLoaded: true,\n          config: response.data,\n        });\n      })\n      .catch(function (error) {\n        console.log(error);\n        self.setState({\n          isLoaded: true,\n          error,\n        });\n      })\n      .then(function () {\n        self.setState({ configValidate: false });\n      });\n  };\n\n  openNotificationWithIcon = (type, title, message) => {\n    notification[type]({\n      message: title,\n      description: message,\n    });\n  };\n\n  updateV2rayConfig = (config) => {\n    var self = this;\n    var data = new FormData();\n    data.append(\"config_content\", JSON.stringify(self.state.config));\n    axios\n      .post(api.updateV2rayConfigApi, data)\n      .then(function (response) {\n        self.openNotificationWithIcon(\n          \"success\",\n          \"修改配置成功\",\n          \"成功修改配置\"\n        );\n        self.refreshV2rayConfig();\n      })\n      .catch(function (error) {\n        self.openNotificationWithIcon(\n          \"error\",\n          \"修改配置失败\",\n          \"修改配置失败. \" + error.response.data.Message\n        );\n        self.refreshV2rayConfig();\n      });\n  };\n\n  validateV2rayConfig = (config) => {\n    var self = this;\n    var data = new FormData();\n    data.append(\"config_content\", JSON.stringify(self.state.config));\n    axios\n      .post(api.validateV2rayConfigApi, data)\n      .then(function (response) {\n        self.openNotificationWithIcon(\"success\", \"校验配置成功\", \"配置合法\");\n        self.setState({ configValidate: true });\n      })\n      .catch(function (error) {\n        self.openNotificationWithIcon(\n          \"error\",\n          \"校验配置失败\",\n          \"配置不合法: \" + error.response.data.Message\n        );\n      });\n  };\n  componentDidMount() {\n    this.refreshV2rayConfig();\n  }\n  render() {\n    const { error, isLoaded, config } = this.state;\n    if (!isLoaded) {\n      return <Skeleton active />;\n    }\n\n    if (error != null) {\n      return (\n        <Result\n          status=\"warning\"\n          title=\"There are some problems with your operation.\"\n          extra={\n            <Button type=\"primary\" key=\"console\">\n              Go Home\n            </Button>\n          }\n        />\n      );\n    } else {\n      return (\n        <>\n          <Space>\n            <Button\n              type=\"primary\"\n              icon={<SyncOutlined />}\n              onClick={this.refreshV2rayConfig}\n            >\n              刷新\n            </Button>\n            <Button\n              type=\"primary\"\n              icon={<BugOutlined />}\n              onClick={this.validateV2rayConfig}\n            >\n              校验\n            </Button>\n            <Tooltip placement=\"top\" title=\"请先校验配置~\">\n              <Button\n                type=\"primary\"\n                icon={<SaveOutlined />}\n                onClick={this.updateV2rayConfig}\n                disabled={!this.state.configValidate}\n              >\n                保存\n              </Button>\n            </Tooltip>\n          </Space>\n          <Divider />\n          <div class=\"row\">\n            <div class=\"column\" style={{ float: \"left\" }}>\n              <JSONInput\n                id=\"a_unique_id\"\n                placeholder={config}\n                locale={locale}\n                theme=\"light_mitsuketa_tribute\"\n                colors={{\n                  string: \"#DAA520\", // overrides theme colors with whatever color value you want\n                }}\n                onChange={(values) => {\n                  this.setState({\n                    config: values.plain_text,\n                    configValidate: false,\n                  });\n                }}\n                height=\"750px\"\n                width=\"700px\"\n              />\n            </div>\n            <div class=\"column\" style={{ float: \"right\" }}>\n              <Card\n                title=\"配置填写帮助\"\n                bordered={false}\n                style={{ width: 400 }}\n              >\n                <p>\n                  支持如下几种变量, 填写变量到配置模板中后,\n                  会自动替换为当前使用的节点信息:\n                </p>\n                <ul>\n                  <li>1. serverHost : 服务器地址</li>\n                  <li>2. serverName : 服务器名称</li>\n                  <li>3. 9495945 : 服务器端口</li>\n                  <li>4. serverId : 服务器ID</li>\n                </ul>\n              </Card>\n            </div>\n          </div>\n        </>\n      );\n    }\n  }\n}\n\nexport default V2rayConfig;\n","import React from \"react\";\nimport \"antd/dist/antd.css\";\nimport api from \"../../api/api.js\";\n// import \"./index.css\";\nimport ButtonWithConfirm from \"../../utils/ButtonWithConfirm\";\nimport {\n  Table,\n  Result,\n  notification,\n  Button,\n  Space,\n  Modal,\n  Form,\n  Input,\n  Divider,\n} from \"antd\";\nimport { SyncOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport axios from \"axios\";\nimport Draggable from \"react-draggable\";\n\nclass PacWebSites extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      modalVisible: false,\n      data: null,\n    };\n  }\n  refreshPacWebsitesList = () => {\n    var self = this;\n    axios\n      .get(api.refreshPacWebsitesListApi)\n      .then(function (response) {\n        self.setState({\n          isLoaded: true,\n          data: response.data,\n        });\n      })\n      .catch(function (error) {\n        self.setState({\n          isLoaded: true,\n          error,\n        });\n      });\n  };\n  componentDidMount() {\n    this.refreshPacWebsitesList();\n  }\n\n  showAddModal = () => {\n    this.setState({\n      modalVisible: true,\n    });\n  };\n\n  hideAddModal = () => {\n    this.setState({\n      modalVisible: false,\n    });\n  };\n\n  openNotificationWithIcon = (type, title, message) => {\n    notification[type]({\n      message: title,\n      description: message,\n    });\n  };\n\n  addPacWebsite = (addr) => {\n    var self = this;\n    var data = new FormData();\n    data.append(\"web_site\", addr);\n    axios\n      .post(api.addPacWebsiteApi, data)\n      .then(function (response) {\n        self.openNotificationWithIcon(\n          \"success\",\n          \"添加网址成功\",\n          \"成功添加网址: \" + addr\n        );\n        self.refreshPacWebsitesList();\n      })\n      .catch(function (error) {\n        self.openNotificationWithIcon(\n          \"error\",\n          \"添加网址失败\",\n          \"添加网址 \" + addr + \" 失败. \" + error.response.data.Message\n        );\n        self.refreshPacWebsitesList();\n      })\n      .then(function () {\n        self.hideAddModal();\n      });\n  };\n\n  delPacWebsite = (id) => {\n    var self = this;\n    var data = new FormData();\n    data.append(\"website_id\", id);\n    axios\n      .post(api.delPacWebsiteApi, data)\n      .then(function (response) {\n        self.openNotificationWithIcon(\n          \"success\",\n          \"删除网址成功\",\n          \"成功添加网址: \" + id\n        );\n        self.refreshPacWebsitesList();\n      })\n      .catch(function (error) {\n        self.openNotificationWithIcon(\n          \"error\",\n          \"删除网址失败\",\n          \"删除网址 \" + id + \" 失败. \" + error.response.data.Message\n        );\n        self.refreshPacWebsitesList();\n      });\n  };\n\n  render() {\n    const columns = [\n      {\n        title: \"网址ID\",\n        dataIndex: \"id\",\n        key: \"id\",\n      },\n      {\n        title: \"网址URL\",\n        dataIndex: \"url\",\n        key: \"url\",\n      },\n      {\n        title: \"Action\",\n        key: \"action\",\n        render: (text, record) => (\n          <ButtonWithConfirm\n            btnName=\"删除\"\n            confirmTitle=\"是否删除此网址?\"\n            confirmContent={record.url}\n            fnOnOk={() => this.delPacWebsite(record.id)}\n          />\n        ),\n      },\n    ];\n    const { error, isLoaded, data } = this.state;\n    if (error != null) {\n      return (\n        <Result\n          status=\"warning\"\n          title=\"There are some problems with your operation.\"\n          extra={\n            <Button type=\"primary\" key=\"console\">\n              Go Home\n            </Button>\n          }\n        />\n      );\n    } else {\n      return (\n        <>\n          <Space>\n            <Button\n              type=\"primary\"\n              icon={<SyncOutlined />}\n              onClick={this.refreshPacWebsitesList}\n            >\n              刷新\n            </Button>\n            <Button\n              type=\"primary\"\n              icon={<PlusOutlined />}\n              onClick={this.showAddModal}\n            >\n              添加网址\n            </Button>\n            <Modal\n              title={\n                <div\n                  style={{\n                    width: \"100%\",\n                    cursor: \"move\",\n                  }}\n                >\n                  添加订阅\n                </div>\n              }\n              visible={this.state.modalVisible}\n              footer={[\n                <Button form=\"addPacWebsiteForm\" key=\"submit\" htmlType=\"submit\">\n                  Submit\n                </Button>,\n              ]}\n              onCancel={this.hideAddModal}\n              modalRender={(modal) => <Draggable>{modal}</Draggable>}\n            >\n              <Form\n                id=\"addPacWebsiteForm\"\n                layout=\"vertical\"\n                initialValues={{ modifier: \"public\" }}\n                onFinish={(values) => {\n                  this.addPacWebsite(values.addr);\n                }}\n              >\n                <Form.Item\n                  name=\"addr\"\n                  label=\"地址\"\n                  rules={[\n                    {\n                      required: true,\n                      message: \"请输入URL地址!\",\n                    },\n                  ]}\n                >\n                  <Input />\n                </Form.Item>\n              </Form>\n            </Modal>\n          </Space>\n          <Divider />\n          <Table columns={columns} dataSource={data} loading={!isLoaded} />;\n        </>\n      );\n    }\n  }\n}\n\nexport default PacWebSites;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport V2rayNodes from \"./pages/v2ray/nodes\";\nimport V2raySubscriptions from \"./pages/v2ray/subscriptions\";\nimport V2rayConfig from \"./pages/v2ray/config\";\nimport PacWebsites from \"./pages/pac/websites\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      {/* A <Switch> looks through its children <Route>s and\n            renders the first one that matches the current URL. */}\n      <Switch>\n        <Route path=\"/pac/config\">\n          <App openKey=\"pac\" selectKey=\"pac\">\n            <PacWebsites />\n          </App>\n        </Route>\n        <Route path=\"/v2ray/servers\">\n          <App openKey=\"v2ray\" selectKey=\"v2ray_servers\">\n            <V2rayNodes />\n          </App>\n        </Route>\n        <Route path=\"/v2ray/subscriptions/\">\n          <App openKey=\"v2ray\" selectKey=\"v2ray_subs\">\n            <V2raySubscriptions />\n          </App>\n        </Route>\n        <Route path=\"/v2ray/config/\">\n          <App openKey=\"v2ray\" selectKey=\"v2ray_config\">\n            <V2rayConfig />\n          </App>\n        </Route>\n        <Route path=\"/\">\n          <App openKey=\"\" selectKey=\"\">\n            home\n          </App>\n        </Route>\n      </Switch>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}